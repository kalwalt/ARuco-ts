!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var r in o)("object"==typeof exports?exports:t)[r]=o[r]}}(this,(()=>(()=>{"use strict";var t,e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{CV:()=>t});class r{width;height;data;constructor(t,e,o){this.width=t,this.height=e,this.data=o}}class a{color;next;constructor(){this.color=0,this.next=null}}class l{static grayscale(t,e){let o=t.data,r=e.data,a=o.length,l=0,n=0;for(;l<a;l+=4)r[n++]=.299*o[l]+.587*o[l+1]+.114*o[l+2]+.5&255;return new ImageData(r,t.width,t.height)}static threshold(t,e,o){let r,a=t.data,l=e.data,n=a.length,c=[];for(r=0;r<256;++r)c[r]=r<=o?0:255;for(r=0;r<n;++r)l[r]=c[a[r]];return new ImageData(l,t.width,t.height)}static adaptiveThreshold(t,e,o,r){let a,n=t.data,c=e.data,i=n.length,s=[];for(l.stackBoxBlur(t,e,o),a=0;a<768;++a)s[a]=a-255<=-r?255:0;for(a=0;a<i;++a)c[a]=s[n[a]-c[a]+255];return new ImageData(c,t.width,t.height)}static stackBoxBlurMult=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265];static stackBoxBlurShift=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13];static stackBoxBlur(t,e,o){let r,n,c,i,s,h,d,f,u,g,x=t.data,p=e.data,y=t.height,w=t.width,m=y-1,B=w-1,b=o+o+1,j=o+1,v=l.stackBoxBlurMult[o],S=l.stackBoxBlurShift[o];for(r=n=new a,g=1;g<b;++g)r=r.next=new a;for(r.next=n,s=0,u=0;u<y;++u){for(h=s,c=x[s],i=j*c,r=n,g=0;g<j;++g)r.color=c,r=r.next;for(g=1;g<j;++g)r.color=x[s+g],i+=r.color,r=r.next;for(r=n,f=0;f<w;++f)p[s++]=i*v>>>S,d=f+j,d=h+(d<B?d:B),i-=r.color-x[d],r.color=x[d],r=r.next}for(f=0;f<w;++f){for(s=f,h=s+w,c=p[s],i=j*c,r=n,g=0;g<j;++g)r.color=c,r=r.next;for(g=1;g<j;++g)r.color=p[h],i+=r.color,r=r.next,h+=w;for(r=n,u=0;u<y;++u)p[s]=i*v>>>S,d=u+j,d=f+(d<m?d:m)*w,i-=r.color-p[d],r.color=p[d],r=r.next,s+=w}return new ImageData(p,t.width,t.height)}}return function(t){t.Image=r,t.grayscale=l.grayscale,t.threshold=l.threshold}(t||(t={})),o})()));